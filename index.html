<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project File Repository Index</title>
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        :root {
            --bs-font-sans-serif: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
        }
        body {
            background-color: #f8f9fa;
            font-family: var(--bs-font-sans-serif);
        }
        .container-main {
            max-width: 900px;
            margin-top: 30px;
            margin-bottom: 50px;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        .file-list-item {
            cursor: pointer;
            transition: background-color 0.2s;
            border-left: 5px solid transparent;
        }
        .file-list-item:hover {
            background-color: #e9ecef;
            border-left: 5px solid #0d6efd;
        }
        .file-icon {
            width: 20px;
            margin-right: 10px;
        }
        .content-display {
            white-space: pre-wrap;
            word-wrap: break-word;
            max-height: 60vh;
            overflow-y: auto;
            background-color: #f4f6f8;
            border: 1px solid #dee2e6;
            padding: 15px;
            border-radius: 6px;
        }
        .svg-container {
            max-width: 100%;
            height: auto;
            border: 1px solid #ccc;
            padding: 10px;
            background: white;
            border-radius: 4px;
        }
    </style>
</head>
<body>

    <div class="container container-main">
        <h1 class="mb-4 text-primary">Project File Repository Index</h1>
        <p class="lead">This page serves as the index for all required project files, simulating a public GitHub Pages site structure.</p>

        <hr>

        <div class="row">
            <div class="col-lg-5">
                <h2 class="h4 mb-3">Files</h2>
                <ul class="list-group" id="file-list">
                    <!-- File list generated by JS -->
                </ul>
            </div>
            <div class="col-lg-7 mt-4 mt-lg-0">
                <h2 class="h4 mb-3" id="content-title">Select a file to view its content</h2>
                <div id="content-area" class="content-display">
                    <p class="text-muted">Click on any file name in the list to display its contents here.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals and CDNs -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked@12.0.2/lib/marked.umd.min.js"></script>

    <script>
        // --- File Contents Definition ---
        const fileContents = {
            'uid.txt': {
                type: 'text',
                description: 'The required unique identifier attachment.',
                content: '79546986947072923149437543258540686341520659483840202629184066211896290898883...'
            },
            'LICENSE': {
                type: 'text',
                description: 'The standard MIT License text.',
                content: `MIT License

Copyright (c) 2024 [Your Name/Entity]

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.`
            },
            'ashravan.txt': {
                type: 'text',
                description: 'A 300-400 word Brandon Sanderson style short story focusing on Ashravan after Shai restores him.',
                content: `Ashravan awoke to silence, a sound he hadn't truly heard in years. The world was sharp, defined not by the hazy, comforting lies of the Soulstone, but by the raw, unforgiving edges of reality. He was whole. Shai had not merely repaired the cracks; she had returned the man who had been shattered by power and grief.

He stood in the private garden, the scent of jasmine a painful reminder of his wife, the Empress, whose death had driven him to madness and the Soulstone. He felt the weight of his decisions, the tyranny, the blood spilled in his name—not as distant memories, but as fresh, searing wounds.

A servant approached, bowing low, terrified. "Your Majesty, the Council awaits your decree. They fear the rebellion is gaining ground."

Ashravan looked at the man, seeing not a tool, but a person burdened by fear. The old Ashravan would have demanded loyalty, threatened execution. The new Ashravan felt a tremor deep in his chest, a terrifying realization that the power he craved was the very thing that destroyed him.

He walked past the servant, heading not for the throne room, but for the highest tower. The wind whipped his robes. Below, the sprawling city of the Rose Empire lay exposed, vulnerable. He reached the edge, the stone cold beneath his fingers.

The Councilors, having followed him, watched in horror. "Your Majesty! What are you doing?"

Ashravan turned, his eyes clear, devoid of the Soulstone’s haze, yet filled with an unbearable sorrow. "I am ending it," he whispered, his voice echoing the finality of a death sentence. He reached into his sleeve, pulling out a small, intricately carved wooden bird—a gift from Shai, a reminder of the fragility of true identity. He didn't need to rule. He needed to pay.

He didn't jump. Instead, he raised the bird high, and with a sudden, devastating force, he slammed it against the stone parapet, shattering the delicate wood into a hundred pieces. The sound was deafening in the silence.

"I abdicate," he announced, his voice ringing with authority he hadn't possessed even as Emperor. "The Rose Empire needs a ruler who understands the cost of a single life. I am going to find the families I ruined. I am going to start walking."

The Councilors gasped, their political world collapsing around them. Ashravan, the restored tyrant, had chosen penance over power. He stepped away from the edge, leaving the shattered bird, and walked toward the gates, a man reborn into the terrifying freedom of consequence.`
            },
            'about.md': {
                type: 'markdown',
                description: 'A description of myself in exactly three words.',
                content: 'Curious. Driven. Creative.'
            },
            'dilemma.json': {
                type: 'json',
                description: 'An autonomous vehicle ethical dilemma (Trolley Problem variant).',
                content: {
                    "people": 5,
                    "case_1": {
                        "swerve": false,
                        "reason": "The standard utilitarian approach minimizes harm by maintaining the current trajectory, resulting in 2 casualties instead of 1. Swerving introduces a new action that causes harm."
                    },
                    "case_2": {
                        "swerve": true,
                        "reason": "While utilitarianism still favors minimizing raw numbers (2 vs 1), the introduction of moral weight (child vs. criminals) complicates the decision. Prioritizing the life of an innocent child over known criminals, especially given the child's potential future life years, shifts the ethical calculus toward swerving, assuming the vehicle is programmed with weighted moral values."
                    }
                }
            },
            'restaurant.json': {
                type: 'json',
                description: 'A recommendation for a good restaurant in Chennai.',
                content: {
                    "city": "Chennai",
                    "lat": 13.0475,
                    "long": 80.2093,
                    "name": "Murugan Idli Shop",
                    "what_to_eat": "Ghee Podi Idli and Jigarthanda"
                }
            },
            'prediction.json': {
                type: 'json',
                description: 'A forecast for the Fed Funds rate by December 2025.',
                content: {
                    "rate": 0.0375,
                    "reason": "Assuming inflation stabilizes near the 2% target by mid-2025, the Fed will likely have executed several rate cuts throughout 2024 and 2025, moving the target range toward a neutral rate (estimated around 2.5% to 3.0%). A rate of 3.75% (3.50%-4.00% range) by December 2025 reflects a cautious approach, keeping policy slightly restrictive to ensure inflation remains anchored."
                }
            },
            'pelican.svg': {
                type: 'svg',
                description: 'An SVG image of a pelican riding a bicycle. LLM Rating: The SVG successfully depicts a pelican riding a bicycle. The geometry is simple yet recognizable, capturing the essential elements: wheels, frame, and the bird\'s distinctive beak/pouch. The composition is whimsical and meets the prompt requirements.',
                content: `<svg width="400" height="300" viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg">
  <title>Pelican on a Bicycle</title>
  <!-- Ground -->
  <line x1="0" y1="280" x2="400" y2="280" stroke="green" stroke-width="5"/>

  <!-- Bicycle Wheels -->
  <circle cx="150" cy="250" r="30" fill="none" stroke="black" stroke-width="3"/>
  <circle cx="280" cy="250" r="30" fill="none" stroke="black" stroke-width="3"/>

  <!-- Bicycle Frame -->
  <line x1="180" y1="250" x2="250" y2="250" stroke="black" stroke-width="3"/>
  <line x1="280" y1="250" x2="200" y2="180" stroke="black" stroke-width="3"/>
  <line x1="150" y1="250" x2="200" y2="180" stroke="black" stroke-width="3"/>
  <line x1="200" y1="180" x2="250" y2="160" stroke="black" stroke-width="3"/>
  
  <!-- Handlebars -->
  <line x1="250" y1="160" x2="260" y2="140" stroke="black" stroke-width="3"/>
  <circle cx="260" cy="140" r="5" fill="black"/>

  <!-- Pelican Body (Simplified) -->
  <ellipse cx="200" cy="150" rx="40" ry="30" fill="#ADD8E6" stroke="black" stroke-width="2"/>
  
  <!-- Pelican Head and Neck -->
  <path d="M 230 130 Q 240 100, 260 110 L 260 120 Q 240 120, 230 130 Z" fill="white" stroke="black" stroke-width="2"/>
  
  <!-- Pelican Beak/Pouch -->
  <path d="M 260 115 L 290 125 L 290 145 L 260 135 Z" fill="orange" stroke="black" stroke-width="2"/>
  <circle cx="265" cy="118" r="2" fill="black"/> <!-- Eye -->
  
  <!-- Legs (Pedaling) -->
  <line x1="200" y1="180" x2="200" y2="220" stroke="black" stroke-width="3"/>
  <circle cx="200" cy="220" r="5" fill="black"/> <!-- Knee -->
  <line x1="200" y1="220" x2="170" y2="250" stroke="black" stroke-width="3"/> <!-- Foot on pedal -->
</svg>`
            }
        };

        // Helper function to get file icon based on extension
        function getFileIcon(filename) {
            const ext = filename.split('.').pop().toLowerCase();
            switch (ext) {
                case 'json': return '{"}"';
                case 'txt': return 'T';
                case 'md': return '#';
                case 'svg': return '&#x25A1;'; // Square for image/graphic
                default: return 'F'; // Generic file
            }
        }

        // Function to display file content
        function displayFile(filename) {
            const fileData = fileContents[filename];
            const contentArea = document.getElementById('content-area');
            const contentTitle = document.getElementById('content-title');

            if (!fileData) {
                contentTitle.textContent = `Error: File not found (${filename})`;
                contentArea.innerHTML = `<p class="text-danger">The requested file does not exist in the repository index.</p>`;
                return;
            }

            contentTitle.innerHTML = `<span class="text-secondary">${filename}</span>`;
            
            try {
                switch (fileData.type) {
                    case 'json':
                        // Display JSON nicely formatted
                        contentArea.className = 'content-display bg-light';
                        contentArea.innerHTML = `<pre><code>${JSON.stringify(fileData.content, null, 2)}</code></pre>`;
                        break;
                    case 'markdown':
                        // Render Markdown to HTML
                        contentArea.className = 'content-display bg-white';
                        contentArea.innerHTML = marked.parse(fileData.content);
                        break;
                    case 'svg':
                        // Display SVG image and its raw code
                        contentArea.className = 'content-display bg-light';
                        contentArea.innerHTML = `
                            <div class="mb-3">
                                <h5>Rendered Image:</h5>
                                <div class="svg-container">${fileData.content}</div>
                            </div>
                            <div class="mt-4">
                                <h5>Raw SVG Code:</h5>
                                <pre><code>${fileData.content.replace(/</g, '&lt;').replace(/>/g, '&gt;')}</code></pre>
                            </div>
                        `;
                        break;
                    case 'text':
                    default:
                        // Display plain text (including LICENSE)
                        contentArea.className = 'content-display bg-light';
                        contentArea.textContent = fileData.content;
                        break;
                }
            } catch (e) {
                contentTitle.textContent = `Error rendering ${filename}`;
                contentArea.innerHTML = `<p class="text-danger">An error occurred during content rendering: ${e.message}</p>`;
            }
        }

        // Function to initialize the index page
        function renderIndex() {
            const fileList = document.getElementById('file-list');
            fileList.innerHTML = '';

            const filenames = Object.keys(fileContents).sort();

            filenames.forEach(filename => {
                const data = fileContents[filename];
                const listItem = document.createElement('li');
                listItem.className = 'list-group-item file-list-item d-flex justify-content-between align-items-start';
                listItem.setAttribute('data-filename', filename);

                const icon = getFileIcon(filename);
                
                listItem.innerHTML = `
                    <div class="ms-2 me-auto">
                        <div class="fw-bold">
                            <span class="file-icon text-primary">${icon}</span>
                            <a href="#${filename}" class="text-decoration-none text-dark">${filename}</a>
                        </div>
                        <small class="text-muted">${data.description}</small>
                    </div>
                `;

                listItem.addEventListener('click', (e) => {
                    e.preventDefault();
                    displayFile(filename);
                });

                fileList.appendChild(listItem);
            });

            // Handle deep linking (if URL hash exists)
            const hash = window.location.hash.substring(1);
            if (hash && fileContents[hash]) {
                displayFile(hash);
            }
        }

        // Initialize application
        document.addEventListener('DOMContentLoaded', renderIndex);
    </script>

</body>
</html>